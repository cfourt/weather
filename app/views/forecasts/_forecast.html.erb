<h1>
  <strong class="fs-6 text-muted">Weather for</strong>
  <br>
  <%= forecast.address %>

  <% unless forecast.expired? %>
      <span class="badge bg-light text-dark fs-6 align-middle">
        Cached â€“ Next refresh in
        <%= distance_of_time_in_words(forecast.expiry_date, Time.current) %>
      </span>
  <% end %>
</h1>

<div id="current-weather">
  <% if forecast.data.present? %>
    <%= render 'forecast_data', forecast: forecast %>
  <% else %>
    <p>No weather data available yet...refreshing</p>
    <script>
      setTimeout(function() {
        window.location.reload();
      }, 1000);
    </script>
  <% end %>
</div>

<div id="forecast" class="mt-5">
  <% if forecast.forecast_data.present? %>
    <%= render 'current_weather_data', forecast: forecast %>
  <% else %>
    <p>No forecast data available yet...refreshing</p>
  <% end %>
</div>
