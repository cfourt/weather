<div id="<%= dom_id forecast %>">
  <h1>
    <strong class="fs-6 text-muted">Weather for</strong>
    <br>
    <%= forecast.address %>

    <span class="badge bg-secondary fs-6 align-middle ms-3">
      <% unless forecast.expired? %>
          Cached – Next refresh in
        <%= distance_of_time_in_words(forecast.expires_at, Time.current) %>
        <% else %>
        Expired
      <% end %>
  </span>
  </h1>


  <div class="lead">
    <%= forecast.serialized_data.name %>, <%= forecast.serialized_data.region %>, <%= forecast.serialized_data.country %>
    <p class="font-monospace fs-6"><%= forecast.serialized_data.latitude %>,<%= forecast.serialized_data.longitude %></p>
  </div>

  <div class="border border-2 rounded mt-5 p-4">

    <div class="row align-items-start">
      <div class="col">
        <div class="row">
          <div class="col-lg-6">
            <%= content_tag :h1, "#{forecast.serialized_data.temp_f}°", class: 'display-1' %>
          </div>

          <div class="col col-lg-6">
            <%= content_tag :span, forecast.serialized_data.condition['text'], class: 'display-6 align-middle' %>
            <%= image_tag(
                  forecast.serialized_data.condition['icon'],
                  alt: forecast.serialized_data.condition['text']
                ) %>
          </div>
        </div>
      </div>
      <div class="col my-auto mx-auto">
        <%= content_tag :p do %>
          <strong>🌧 Precipitation:</strong> <%= "#{forecast.serialized_data.precip_in} in" %>
        <% end %>
        <%= content_tag :p do %>
          <strong>💧Humidity:</strong> <%= "#{forecast.serialized_data.humidity}" %>
        <% end %>
        <%= content_tag :p do %>
          <strong>🌬️ Wind:</strong> <%= "#{forecast.serialized_data.wind_mph} mph #{forecast.serialized_data.wind_dir}" %>
        <% end %>
      </div>

    </div>
  </div>


  <details class="my-5">
    <summary>Raw Data</summary>
    <code>
      <%= forecast.serialized_data.current %>''
    </code>
  </details>
</div>
